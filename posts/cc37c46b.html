<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 4.0.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png"><link rel="mask-icon" href="/images/logo.svg" color="#222"><link rel="alternate" href="/./atom.xml" title="做一个幸福的人" type="application/atom+xml"><meta name="google-site-verification" content="Qr_3yqLtyErDFKHW7mE8PJz4qDUX-bf_fMLpSRckQe4"><meta name="baidu-site-verification" content="zOwIvKMV7f"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="https://fonts.loli.net/css?family=Roboto:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="/lib/pace/pace-theme-center-atom.min.css"><script src="/lib/pace/pace.min.js"></script><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Gemini",version:"7.5.0",exturl:!1,sidebar:{position:"left",display:"post",offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:null},back2top:{enable:!0,sidebar:!0,scrollpercent:!0},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!0,mediumzoom:!1,lazyload:!1,pangu:!1,algolia:{appID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"搜索文章",hits_empty:"我们没有找到任何搜索结果: ${query}",hits_stats:"找到约${hits}条结果（用时${time}ms）"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},path:"search.xml",motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},translation:{copy_button:"复制",copy_success:"复制成功",copy_failure:"复制失败"},sidebarPadding:40}</script><link href="https://fonts.googleapis.com/css?family=Noto+Serif+SC|Roboto&display=swap" rel="stylesheet"><meta name="description" content="在cs231n课程Convolutional Neural Networks: Architectures, Convolution &#x2F; Pooling Layers 中提到使用矩阵乘法方式完成卷积层及池化层操作，同时在Assignment #2: Fully-Connected Nets, Batch Normalization, Dropout, Convolutional Nets中给出了一"><meta name="keywords" content="python,numpy"><meta property="og:type" content="article"><meta property="og:title" content="im2col解析1"><meta property="og:url" content="https:&#x2F;&#x2F;www.zhujian.tech&#x2F;posts&#x2F;cc37c46b.html"><meta property="og:site_name" content="做一个幸福的人"><meta property="og:description" content="在cs231n课程Convolutional Neural Networks: Architectures, Convolution &#x2F; Pooling Layers 中提到使用矩阵乘法方式完成卷积层及池化层操作，同时在Assignment #2: Fully-Connected Nets, Batch Normalization, Dropout, Convolutional Nets中给出了一"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2020-02-15T05:36:35.871Z"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://www.zhujian.tech/posts/cc37c46b.html"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,isPage:!1,isArchive:!1}</script><title>im2col解析1 | 做一个幸福的人</title><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?e677aac1ac69b8826b9cfecb4e72e107";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-meta"><div><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">做一个幸福的人</span><span class="logo-line-after"><i></i></span></a></div><p class="site-subtitle">面朝大海，春暖花开</p></div><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-fw fa-home"></i> 首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i> 关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i> 标签<span class="badge">129</span></a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i> 分类<span class="badge">48</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i> 归档<span class="badge">169</span></a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> 搜索</a></li></ul></nav><div class="site-search"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="搜索..." spellcheck="false" type="text" id="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"></div></div><div class="search-pop-overlay"></div></div></div></header> <a href="https://github.com/zjZSTU" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content"><div class="posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://www.zhujian.tech/posts/cc37c46b.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.png"><meta itemprop="name" content="zhujian"><meta itemprop="description" content="one bite at a time"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="做一个幸福的人"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"> im2col解析1</h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-05-24 09:51:33" itemprop="dateCreated datePublished" datetime="2019-05-24T09:51:33+00:00">2019-05-24</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i></span> <span class="post-meta-item-text">更新于</span> <time title="修改时间：2020-02-15 05:36:35" itemprop="dateModified" datetime="2020-02-15T05:36:35+00:00">2020-02-15</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/algorithm/" itemprop="url" rel="index"><span itemprop="name">算法</span></a></span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/programming/" itemprop="url" rel="index"><span itemprop="name">编程</span></a></span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/algorithm/deep-learning/" itemprop="url" rel="index"><span itemprop="name">深度学习</span></a></span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/programming/programming-language/" itemprop="url" rel="index"><span itemprop="name">编程语言</span></a></span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/algorithm/deep-learning/convolutional-neural-network/" itemprop="url" rel="index"><span itemprop="name">卷积神经网络</span></a></span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/programming/codebase/" itemprop="url" rel="index"><span itemprop="name">代码库</span></a></span></span><span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span> <span class="post-meta-item-text">阅读次数：</span><span id="busuanzi_value_page_pv"></span></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i></span> <span class="post-meta-item-text">本文字数：</span> <span>6.9k</span></span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="fa fa-clock-o"></i></span> <span class="post-meta-item-text">阅读时长 &asymp;</span> <span>11 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><p>在<code>cs231n</code>课程<a href="http://cs231n.github.io/convolutional-networks/#fc" target="_blank" rel="noopener">Convolutional Neural Networks: Architectures, Convolution / Pooling Layers</a> 中提到使用矩阵乘法方式完成卷积层及池化层操作，同时在<a href="http://cs231n.github.io/assignments2019/assignment2/" target="_blank" rel="noopener">Assignment #2: Fully-Connected Nets, Batch Normalization, Dropout, Convolutional Nets</a>中给出了一个卷积层转全连接层的实现 - <code>im2col.py</code></p><a id="more"></a><p><code>im2col</code>表示将滤波器局部连接矩阵向量化为列向量（<code>column vector</code>），在行方向进行堆叠，最终得到<code>2-D</code>矩阵</p><p><code>im2col.py</code>使用 <strong><em>花式下标求解</em></strong> 的方式，让我觉得应该写篇文章好好学习一下</p><p>本文介绍一些<code>numpy</code>实现，下一篇介绍<code>im2col</code>实现，第三篇实现<code>im2row</code>，第四篇介绍另一种实现图像和行向量互换的方式，最后实现池化层图像和行向量的互换<code>pool2row</code></p><ol><li>数组扩展</li><li>数组变形</li><li>数组填充</li><li>维数转换</li><li>矩阵提取</li><li>数据叠加</li></ol><h2 id="数组扩展"><a href="#数组扩展" class="headerlink" title="数组扩展"></a>数组扩展</h2><p><code>numpy</code>提供了<a href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.repeat.html" target="_blank" rel="noopener">numpy.repeat</a>以及<a href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.tile.html" target="_blank" rel="noopener">numpy.tile</a>实现基于数组原先数据的扩展</p><p><code>numpy.repeat</code>会重复数组中的每个元素</p><blockquote><p>numpy.repeat(a, repeats, axis=None)</p></blockquote><ul><li><code>a</code>表示输入数组</li><li><code>repeats</code>表示重复次数</li><li><code>axis</code>表示沿着哪个轴进行重复，<code>axis=0</code>表示沿着列，<code>axis=1</code>表示沿着行（注意：<code>axis</code>不能超出<code>a</code>的维度）。默认会将输入数组拉平（<code>flattened</code>），再沿着行进行重复</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 对1-D数组进行扩展</span><br><span class="line">&gt;&gt;&gt; x = np.arange(3)</span><br><span class="line">&gt;&gt;&gt; x</span><br><span class="line">array([0, 1, 2])</span><br><span class="line">&gt;&gt;&gt; np.repeat(x, 4)</span><br><span class="line">array([0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2])</span><br><span class="line">&gt;&gt;&gt; np.repeat(x, 4, axis=0) # 当x仅有1维时，axis失效</span><br><span class="line">array([0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2])</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"># 对2-D数组进行扩展</span><br><span class="line">&gt;&gt;&gt; x = np.arange(6).reshape(2,3)</span><br><span class="line">&gt;&gt;&gt; x</span><br><span class="line">array([[0, 1, 2],</span><br><span class="line">       [3, 4, 5]])</span><br><span class="line">&gt;&gt;&gt; np.repeat(x, 2) # 默认情况下会先将输入数组拉平，再进行扩展</span><br><span class="line">array([0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5])</span><br><span class="line">&gt;&gt;&gt; np.repeat(x, 2, axis=0) # axis=0表示沿着列进行扩展</span><br><span class="line">array([[0, 1, 2],</span><br><span class="line">       [0, 1, 2],</span><br><span class="line">       [3, 4, 5],</span><br><span class="line">       [3, 4, 5]])</span><br><span class="line">&gt;&gt;&gt; np.repeat(x, 2, axis=1) # axis=1表示沿着行进行扩展</span><br><span class="line">array([[0, 0, 1, 1, 2, 2],</span><br><span class="line">       [3, 3, 4, 4, 5, 5]])</span><br><span class="line">&gt;&gt;&gt; np.repeat(x, (2,3), axis=0) # 还可以指定扩展个数，本例表示沿着列进行扩展，其中输入数组第一行扩展2次，第二行扩展3次</span><br><span class="line">array([[0, 1, 2],</span><br><span class="line">       [0, 1, 2],</span><br><span class="line">       [3, 4, 5],</span><br><span class="line">       [3, 4, 5],</span><br><span class="line">       [3, 4, 5]])</span><br></pre></td></tr></table></figure><p><strong><code>np.repeat</code>对逐元素进行重复，而<code>np.tile</code>对逐数组进行重复</strong></p><blockquote><p>numpy.tile(A, reps)</p></blockquote><ul><li><code>A</code>表示输入数组</li><li><code>reps</code>表示重复次数</li></ul><p>有两种情况</p><ol><li>当<code>A.ndim &lt; reps.ndim</code>时，输入数组会扩展到reps相同维数，比如<code>A.shape=(3,)</code>，那么扩展到<code>2-D</code>就是<code>(3,) -&gt; (1,3)</code>，扩展到<code>3-D</code>就是<code>(3,) -&gt; (1,1,3)</code></li><li>当<code>A.ndim &gt; reps.ndim</code>时，<code>reps</code>会先扩展到和A相同维数，扩展维数用<code>1</code>填充，比如<code>A.shape = (2,3,4,5)，reps.shape = (2,3)</code>，那么<code>reps</code>首先扩展到<code>(1,1,2,3)</code>，再对<code>A</code>进行扩展，结果为<code>(2,3,8,15)</code></li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; a = np.arange(3)</span><br><span class="line">&gt;&gt;&gt; a</span><br><span class="line">array([0, 1, 2])</span><br><span class="line">&gt;&gt;&gt; a.shape</span><br><span class="line">(3,)</span><br><span class="line">&gt;&gt;&gt; x</span><br><span class="line">array([[0, 1, 2],</span><br><span class="line">       [3, 4, 5]])</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># A.ndim = reps.ndim，不改变数组维数，沿着维数方向进行扩展</span><br><span class="line">&gt;&gt;&gt; np.tile(a, 3) </span><br><span class="line">array([0, 1, 2, 0, 1, 2, 0, 1, 2])</span><br><span class="line">&gt;&gt;&gt; np.tile(a, (2,3))</span><br><span class="line">array([[0, 1, 2, 0, 1, 2, 0, 1, 2],</span><br><span class="line">       [0, 1, 2, 0, 1, 2, 0, 1, 2]])</span><br><span class="line">&gt;&gt;&gt; np.tile(x, 2)</span><br><span class="line">array([[0, 1, 2, 0, 1, 2],</span><br><span class="line">       [3, 4, 5, 3, 4, 5]])</span><br><span class="line">&gt;&gt;&gt; np.tile(x, (2,2))</span><br><span class="line">array([[0, 1, 2, 0, 1, 2],</span><br><span class="line">       [3, 4, 5, 3, 4, 5],</span><br><span class="line">       [0, 1, 2, 0, 1, 2],</span><br><span class="line">       [3, 4, 5, 3, 4, 5]])</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># A.ndim &lt; reps.ndim，扩展A维数，再进行扩展</span><br><span class="line">&gt;&gt;&gt; np.tile(a, (3,1)) # 扩展到2-D，再沿着列方向进行扩展</span><br><span class="line">array([[0, 1, 2],</span><br><span class="line">       [0, 1, 2],</span><br><span class="line">       [0, 1, 2]])</span><br><span class="line">&gt;&gt;&gt; np.tile(a, (1,3)) # 扩展到2-D，再沿着行方向进行扩展</span><br><span class="line">array([[0, 1, 2, 0, 1, 2, 0, 1, 2]])</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># A.ndim &gt; reps.ndim, 先扩展reps维度，再扩展A数组</span><br><span class="line">&gt;&gt;&gt; A=np.ones((2,3,4,5))</span><br><span class="line">&gt;&gt;&gt; reps=(2,3)</span><br><span class="line">&gt;&gt;&gt; np.tile(A, reps).shape</span><br><span class="line">(2, 3, 8, 15)</span><br></pre></td></tr></table></figure><h2 id="数组变形"><a href="#数组变形" class="headerlink" title="数组变形"></a>数组变形</h2><p><code>numpy</code>提供了方法<a href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.reshape.html" target="_blank" rel="noopener">numpy.reshape</a>用于数组变形</p><p><code>numpy.reshape</code>在不改变数组数据的情况下变换数组大小</p><blockquote><p>numpy.reshape(a, newshape, order=’C’)</p></blockquote><ul><li><code>a</code>表示输入数组</li><li><code>newshape</code>表示新的数组大小，其中一个维度值可以为<code>-1</code>，这样该维度大小将通过数组长度和剩余维数判断得出。<strong>注意：新的数组大小应该和输入数组大小一致</strong></li><li><code>order</code>表示索引读取元素顺序，默认读取方式和<code>C</code>语言一致（大多数情况下就是这种方式）：最后一个轴索引（<code>the last axis index</code>）变化最快，第一个轴索引（<code>the first axis index</code>）变化最慢。比如<code>2-D</code>数组，先变化第二个轴，也就是按行读取，再变化第一个轴，也就是按列读取</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; x = np.arange(24)</span><br><span class="line">&gt;&gt;&gt; x</span><br><span class="line">array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16,</span><br><span class="line">       17, 18, 19, 20, 21, 22, 23])</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; y = x.reshape(2,3,4)</span><br><span class="line">&gt;&gt;&gt; y</span><br><span class="line">array([[[ 0,  1,  2,  3],</span><br><span class="line">        [ 4,  5,  6,  7],</span><br><span class="line">        [ 8,  9, 10, 11]],</span><br><span class="line"></span><br><span class="line">       [[12, 13, 14, 15],</span><br><span class="line">        [16, 17, 18, 19],</span><br><span class="line">        [20, 21, 22, 23]]])</span><br><span class="line"># 最后一个轴先进行读取</span><br><span class="line">&gt;&gt;&gt; y[0,0,:]</span><br><span class="line"># 然后是中间轴</span><br><span class="line">array([0, 1, 2, 3])</span><br><span class="line">&gt;&gt;&gt; y[0,1,:]</span><br><span class="line">array([4, 5, 6, 7])</span><br><span class="line">&gt;&gt;&gt; y[0,2,:]</span><br><span class="line">array([ 8,  9, 10, 11])</span><br><span class="line"># 最后是第一个轴</span><br><span class="line">&gt;&gt;&gt; y[1,:,:]</span><br><span class="line">array([[12, 13, 14, 15],</span><br><span class="line">       [16, 17, 18, 19],</span><br><span class="line">       [20, 21, 22, 23]])</span><br></pre></td></tr></table></figure><h2 id="数组填充"><a href="#数组填充" class="headerlink" title="数组填充"></a>数组填充</h2><p>在进行卷积神经网络计算时，需要零填充操作，<code>numpy</code>提供了<a href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.pad.html#numpy-pad" target="_blank" rel="noopener">numpy.pad</a>操作</p><blockquote><p>numpy.pad(array, pad_width, mode, **kwargs)</p></blockquote><ul><li><code>array</code>表示输入数组</li><li><code>pad_width</code>表示每轴填充的宽度，其格式为<code>((before_1, after_1), … (before_N, after_N))</code>。如果所有轴都使用相同填充宽度，可以简化为<code>(before, after)</code>，或者<code>(pad,)</code></li><li><code>mode</code>表示填充模式，最常用的是<code>constant</code> - 填充一个常数，默认为<code>0</code></li><li><code>constant_values</code>是可选参数，表示常数值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; a = np.arange(1, 5).reshape(2,2)</span><br><span class="line">&gt;&gt;&gt; a</span><br><span class="line">array([[1, 2],</span><br><span class="line">       [3, 4]])</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"># 以下三种方法等价</span><br><span class="line">&gt;&gt;&gt; np.pad(a, (2), mode=&apos;constant&apos;)</span><br><span class="line">array([[0, 0, 0, 0, 0, 0],</span><br><span class="line">       [0, 0, 0, 0, 0, 0],</span><br><span class="line">       [0, 0, 1, 2, 0, 0],</span><br><span class="line">       [0, 0, 3, 4, 0, 0],</span><br><span class="line">       [0, 0, 0, 0, 0, 0],</span><br><span class="line">       [0, 0, 0, 0, 0, 0]])</span><br><span class="line">&gt;&gt;&gt; np.pad(a, (2,2), mode=&apos;constant&apos;)</span><br><span class="line">array([[0, 0, 0, 0, 0, 0],</span><br><span class="line">       [0, 0, 0, 0, 0, 0],</span><br><span class="line">       [0, 0, 1, 2, 0, 0],</span><br><span class="line">       [0, 0, 3, 4, 0, 0],</span><br><span class="line">       [0, 0, 0, 0, 0, 0],</span><br><span class="line">       [0, 0, 0, 0, 0, 0]])</span><br><span class="line">&gt;&gt;&gt; np.pad(a, ((2,2),(2,2)), mode=&apos;constant&apos;)</span><br><span class="line">array([[0, 0, 0, 0, 0, 0],</span><br><span class="line">       [0, 0, 0, 0, 0, 0],</span><br><span class="line">       [0, 0, 1, 2, 0, 0],</span><br><span class="line">       [0, 0, 3, 4, 0, 0],</span><br><span class="line">       [0, 0, 0, 0, 0, 0],</span><br><span class="line">       [0, 0, 0, 0, 0, 0]])</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">#可以指定不同的轴填充个数</span><br><span class="line">&gt;&gt;&gt; a</span><br><span class="line">array([[[ 1,  2,  3,  4],</span><br><span class="line">        [ 5,  6,  7,  8],</span><br><span class="line">        [ 9, 10, 11, 12]],</span><br><span class="line"></span><br><span class="line">       [[13, 14, 15, 16],</span><br><span class="line">        [17, 18, 19, 20],</span><br><span class="line">        [21, 22, 23, 24]]])</span><br><span class="line">&gt;&gt;&gt; a.shape</span><br><span class="line">(2, 3, 4)</span><br><span class="line"># 仅填充最后一轴</span><br><span class="line">&gt;&gt;&gt; np.pad(a, ((0,),(0,),(1,)), mode=&apos;constant&apos;)</span><br><span class="line">array([[[ 0,  1,  2,  3,  4,  0],</span><br><span class="line">        [ 0,  5,  6,  7,  8,  0],</span><br><span class="line">        [ 0,  9, 10, 11, 12,  0]],</span><br><span class="line"></span><br><span class="line">       [[ 0, 13, 14, 15, 16,  0],</span><br><span class="line">        [ 0, 17, 18, 19, 20,  0],</span><br><span class="line">        [ 0, 21, 22, 23, 24,  0]]])</span><br><span class="line">&gt;&gt;&gt; np.pad(a, ((0,),(0,),(1,)), mode=&apos;constant&apos;).shape</span><br><span class="line">(2, 3, 6)</span><br></pre></td></tr></table></figure><h2 id="维数转换"><a href="#维数转换" class="headerlink" title="维数转换"></a>维数转换</h2><p><code>numpy</code>提供了<a href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.transpose.html" target="_blank" rel="noopener">numpy.transpose</a>用于维数转换</p><blockquote><p>numpy.transpose(a, axes=None)</p></blockquote><ul><li><code>a</code>表示输入数组</li><li><code>axes</code>表示待转换的轴，是<code>int</code>类型的元组（<code>tuple</code>）</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># 2维数组转换相当于矩阵转置操作</span><br><span class="line">&gt;&gt;&gt; x = np.arange(12).reshape(3,4)</span><br><span class="line">&gt;&gt;&gt; x</span><br><span class="line">array([[ 0,  1,  2,  3],</span><br><span class="line">       [ 4,  5,  6,  7],</span><br><span class="line">       [ 8,  9, 10, 11]])</span><br><span class="line">&gt;&gt;&gt; x.shape</span><br><span class="line">(3, 4)</span><br><span class="line">&gt;&gt;&gt; np.transpose(x, (1,0))</span><br><span class="line">array([[ 0,  4,  8],</span><br><span class="line">       [ 1,  5,  9],</span><br><span class="line">       [ 2,  6, 10],</span><br><span class="line">       [ 3,  7, 11]])</span><br><span class="line">&gt;&gt;&gt; np.transpose(x, (1,0)).shape</span><br><span class="line">(4, 3)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; x = np.arange(24).reshape(2,3,4)</span><br><span class="line">&gt;&gt;&gt; x</span><br><span class="line">array([[[ 0,  1,  2,  3],</span><br><span class="line">        [ 4,  5,  6,  7],</span><br><span class="line">        [ 8,  9, 10, 11]],</span><br><span class="line"></span><br><span class="line">       [[12, 13, 14, 15],</span><br><span class="line">        [16, 17, 18, 19],</span><br><span class="line">        [20, 21, 22, 23]]])</span><br><span class="line">&gt;&gt;&gt; x.shape</span><br><span class="line">(2, 3, 4)</span><br><span class="line">&gt;&gt;&gt; np.transpose(x, (1,2,0))</span><br><span class="line">array([[[ 0, 12],</span><br><span class="line">        [ 1, 13],</span><br><span class="line">        [ 2, 14],</span><br><span class="line">        [ 3, 15]],</span><br><span class="line"></span><br><span class="line">       [[ 4, 16],</span><br><span class="line">        [ 5, 17],</span><br><span class="line">        [ 6, 18],</span><br><span class="line">        [ 7, 19]],</span><br><span class="line"></span><br><span class="line">       [[ 8, 20],</span><br><span class="line">        [ 9, 21],</span><br><span class="line">        [10, 22],</span><br><span class="line">        [11, 23]]])</span><br><span class="line">&gt;&gt;&gt; np.transpose(x, (1,2,0)).shape</span><br><span class="line">(3, 4, 2)</span><br><span class="line">&gt;&gt;&gt; np.transpose(x, (1,0,2))</span><br><span class="line">array([[[ 0,  1,  2,  3],</span><br><span class="line">        [12, 13, 14, 15]],</span><br><span class="line"></span><br><span class="line">       [[ 4,  5,  6,  7],</span><br><span class="line">        [16, 17, 18, 19]],</span><br><span class="line"></span><br><span class="line">       [[ 8,  9, 10, 11],</span><br><span class="line">        [20, 21, 22, 23]]])</span><br><span class="line">&gt;&gt;&gt; np.transpose(x, (1,0,2)).shape</span><br><span class="line">(3, 2, 4)</span><br></pre></td></tr></table></figure><h2 id="矩阵提取"><a href="#矩阵提取" class="headerlink" title="矩阵提取"></a>矩阵提取</h2><p>当在多维数组中取一个<code>2</code>维矩阵时，通常会使用切片方式</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; a</span><br><span class="line">array([[[ 1,  2,  3,  4],</span><br><span class="line">        [ 5,  6,  7,  8],</span><br><span class="line">        [ 9, 10, 11, 12]],</span><br><span class="line"></span><br><span class="line">       [[13, 14, 15, 16],</span><br><span class="line">        [17, 18, 19, 20],</span><br><span class="line">        [21, 22, 23, 24]]])</span><br><span class="line">&gt;&gt;&gt; a[0, 0:2, 0:2]</span><br><span class="line">array([[1, 2],</span><br><span class="line">       [5, 6]])</span><br><span class="line">&gt;&gt;&gt; a[0, slice(0, 2, 1), slice(0, 2, 1)]</span><br><span class="line">array([[1, 2],</span><br><span class="line">       [5, 6]])</span><br></pre></td></tr></table></figure><p>还可以先获取矩阵对应数据下标，再进行计算</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; x</span><br><span class="line">[[0, 0], [1, 1]]</span><br><span class="line">&gt;&gt;&gt; y</span><br><span class="line">[[0, 1], [0, 1]]</span><br><span class="line">&gt;&gt;&gt; a[0, x, y]</span><br><span class="line">array([[1, 2],</span><br><span class="line">       [5, 6]])</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"># 结合矩阵扩展和维数转换方法</span><br><span class="line">&gt;&gt;&gt; z</span><br><span class="line">array([0, 1])</span><br><span class="line">&gt;&gt;&gt; x = np.tile(z, (2,1))</span><br><span class="line">&gt;&gt;&gt; x</span><br><span class="line">array([[0, 1],</span><br><span class="line">       [0, 1]])</span><br><span class="line">&gt;&gt;&gt; x = np.transpose(x, (1,0))</span><br><span class="line">&gt;&gt;&gt; x</span><br><span class="line">array([[0, 0],</span><br><span class="line">       [1, 1]])</span><br><span class="line">&gt;&gt;&gt; y = np.tile(z, (2,1))</span><br><span class="line">&gt;&gt;&gt; y</span><br><span class="line">array([[0, 1],</span><br><span class="line">       [0, 1]])</span><br><span class="line">&gt;&gt;&gt; a[0, x, y]</span><br><span class="line">array([[1, 2],</span><br><span class="line">       [5, 6]])</span><br></pre></td></tr></table></figure><h2 id="数据叠加"><a href="#数据叠加" class="headerlink" title="数据叠加"></a>数据叠加</h2><p>参考：<a href="https://stackoverflow.com/questions/45473896/np-add-at-indexing-with-array" target="_blank" rel="noopener">np.add.at indexing with array</a></p><p><code>numpy</code>提供函数<a href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ufunc.at.html" target="_blank" rel="noopener">numpy.add.at</a>用于批量添加数据</p><blockquote><p>ufunc.at(a, indices, b=None)</p></blockquote><ul><li><code>a</code>表示目标数组</li><li><code>indices</code>表示指定下标，可以是数组或者元组结构</li><li><code>b</code>是添加的数据，可以是标量或者数组，必须能够在<code>a</code>上可广播（<code>broadcastable</code>）</li></ul><p><code>np.add.at</code>函数功能等同于<code>a[indices]=b</code>，区别在于<code>np.add.at</code>执行无缓冲即时操作（<code>unbuffered in place operation</code>），也就是说同一个下标可以累加多次</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; x = np.arange(5)</span><br><span class="line">&gt;&gt;&gt; x</span><br><span class="line">array([0, 1, 2, 3, 4])</span><br><span class="line">&gt;&gt;&gt; np.add.at(x, [0, 1, 2, 3, 3], 2) # 累加下标3共2次</span><br><span class="line">&gt;&gt;&gt; x</span><br><span class="line">array([2, 3, 4, 7, 4])</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; x = np.zeros((2,3))</span><br><span class="line">&gt;&gt;&gt; x</span><br><span class="line">array([[0., 0., 0.],</span><br><span class="line">       [0., 0., 0.]])</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; np.add.at(x, ([0,1], [0,2]), 3) # 指定行列坐标</span><br><span class="line">&gt;&gt;&gt; x</span><br><span class="line">array([[3., 0., 0.],</span><br><span class="line">       [0., 0., 3.]])</span><br><span class="line">&gt;&gt;&gt; np.add.at(x, ([1], [0,2]), 1)</span><br><span class="line">&gt;&gt;&gt; x</span><br><span class="line">array([[3., 0., 0.],</span><br><span class="line">       [1., 0., 4.]])</span><br><span class="line">&gt;&gt;&gt; np.add.at(x, ([1], [0,2]), [5,6])</span><br><span class="line">&gt;&gt;&gt; x</span><br><span class="line">array([[ 3.,  0.,  0.],</span><br><span class="line">       [ 6.,  0., 10.]])</span><br></pre></td></tr></table></figure></div><div class="reward-container"><div>坚持原创技术分享，您的支持将鼓励我继续创作！</div> <button disable="enable" onclick="var qr = document.getElementById(&quot;qr&quot;); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';"> 打赏</button><div id="qr" style="display:none"><div style="display:inline-block"> <img src="/images/wechatpay.jpg" alt="zhujian 微信支付"><p>微信支付</p></div><div style="display:inline-block"> <img src="/images/alipay.jpg" alt="zhujian 支付宝"><p>支付宝</p></div></div></div><div><ul class="post-copyright"><li class="post-copyright-author"> <strong>本文作者：</strong> zhujian</li><li class="post-copyright-link"> <strong>本文链接：</strong> <a href="https://www.zhujian.tech/posts/cc37c46b.html" title="im2col解析1">https://www.zhujian.tech/posts/cc37c46b.html</a></li><li class="post-copyright-license"> <strong>版权声明：</strong> 本博客所有文章除特别声明外，均采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/null" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i> BY-NC-SA</a> 许可协议。转载请注明出处！</li></ul></div><footer class="post-footer"><div class="post-tags"> <a href="/tags/python/" rel="tag"># python</a> <a href="/tags/numpy/" rel="tag"># numpy</a></div><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/posts/ab1e719c.html" rel="next" title="卷积神经网络推导-批量图片矩阵计算"><i class="fa fa-chevron-left"></i> 卷积神经网络推导-批量图片矩阵计算</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"> <a href="/posts/597060a3.html" rel="prev" title="im2col解析2">im2col解析2<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div></div><div class="comments" id="gitalk-container"></div></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc"> 文章目录</li><li class="sidebar-nav-overview"> 站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#数组扩展"><span class="nav-number">1.</span> <span class="nav-text">数组扩展</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数组变形"><span class="nav-number">2.</span> <span class="nav-text">数组变形</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数组填充"><span class="nav-number">3.</span> <span class="nav-text">数组填充</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#维数转换"><span class="nav-number">4.</span> <span class="nav-text">维数转换</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#矩阵提取"><span class="nav-number">5.</span> <span class="nav-text">矩阵提取</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数据叠加"><span class="nav-number">6.</span> <span class="nav-text">数据叠加</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="zhujian" src="/images/avatar.png"><p class="site-author-name" itemprop="name">zhujian</p><div class="site-description" itemprop="description">one bite at a time</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">169</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/"><span class="site-state-item-count">48</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/"><span class="site-state-item-count">129</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="feed-link motion-element"><a href="/./atom.xml" rel="alternate"><i class="fa fa-rss"></i> RSS</a></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/zjZSTU" title="Github &amp;rarr; https:&#x2F;&#x2F;github.com&#x2F;zjZSTU" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i> Github</a></span><span class="links-of-author-item"><a href="https://blog.csdn.net/u012005313" title="CSDN &amp;rarr; https:&#x2F;&#x2F;blog.csdn.net&#x2F;u012005313" rel="noopener" target="_blank"><i class="fa fa-fw fa-book"></i> CSDN</a></span><span class="links-of-author-item"><a href="/mailto:zjzstu@gmail.com" title="Gmail &amp;rarr; mailto:zjzstu@gmail.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i> Gmail</a></span><span class="links-of-author-item"><a href="/mailto:505169307@gmail.com" title="QQmail &amp;rarr; mailto:505169307@gmail.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i> QQmail</a></span></div><div class="cc-license motion-element" itemprop="license"> <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/null" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a></div><div class="links-of-blogroll motion-element"><div class="links-of-blogroll-title"><i class="fa fa-fw fa-link"></i> Links</div><ul class="links-of-blogroll-list"><li class="links-of-blogroll-item"> <a href="https://cloud.tencent.com/" title="https:&#x2F;&#x2F;cloud.tencent.com" rel="noopener" target="_blank">腾讯云</a></li><li class="links-of-blogroll-item"> <a href="https://www.aliyun.com/" title="https:&#x2F;&#x2F;www.aliyun.com" rel="noopener" target="_blank">阿里云</a></li><li class="links-of-blogroll-item"> <a href="https://developer.android.com/" title="https:&#x2F;&#x2F;developer.android.com&#x2F;" rel="noopener" target="_blank">Android Dev</a></li><li class="links-of-blogroll-item"> <a href="https://jenkins.io/" title="https:&#x2F;&#x2F;jenkins.io&#x2F;" rel="noopener" target="_blank">Jenkins</a></li><li class="links-of-blogroll-item"> <a href="http://cs231n.github.io/" title="http:&#x2F;&#x2F;cs231n.github.io&#x2F;" rel="noopener" target="_blank">cs231n</a></li><li class="links-of-blogroll-item"> <a href="https://pytorch.org/docs/stable/index.html" title="https:&#x2F;&#x2F;pytorch.org&#x2F;docs&#x2F;stable&#x2F;index.html" rel="noopener" target="_blank">pytorch</a></li><li class="links-of-blogroll-item"> <a href="https://docs.docker.com/install/linux/docker-ce/ubuntu/" title="https:&#x2F;&#x2F;docs.docker.com&#x2F;install&#x2F;linux&#x2F;docker-ce&#x2F;ubuntu&#x2F;" rel="noopener" target="_blank">docker</a></li></ul></div></div><div class="back-to-top motion-element"><i class="fa fa-arrow-up"></i> <span>0%</span></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> &copy; <span itemprop="copyrightYear">2020</span><span class="with-love"><i class="fa fa-user"></i></span> <span class="author" itemprop="copyrightHolder">zhujian</span> <span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-area-chart"></i></span> <span class="post-meta-item-text">站点总字数：</span> <span title="站点总字数">948k</span> <span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-coffee"></i></span> <span class="post-meta-item-text">站点阅读时长 &asymp;</span> <span title="站点阅读时长">26:20</span> <span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-bar-chart-o"></i></span> <a href="https://tongji.baidu.com/web/27249108/overview/index?siteId=13647183" rel="noopener" target="_blank">百度统计</a></div><div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v4.0.0</div> <span class="post-meta-divider">|</span><div class="theme-info">主题 – <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.5.0</div><div class="beian"> <a href="http://www.beian.miit.gov.cn/" rel="noopener" target="_blank">浙ICP备 19026415号</a> <span class="post-meta-divider">|</span> <img src="/images/beian_icon.png" style="display:inline-block;text-decoration:none;height:13px"> <a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=33011802001748" rel="noopener" target="_blank">浙公网安备 33011802001748号</a></div><div class="busuanzi-count"><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="post-meta-item" id="busuanzi_container_site_uv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-user"></i></span> <span class="site-uv" title="总访客量">访客数：<span id="busuanzi_value_site_uv"></span></span></span> <span class="post-meta-divider">|</span><span class="post-meta-item" id="busuanzi_container_site_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span> <span class="site-pv" title="总访问量">阅读量：<span id="busuanzi_value_site_pv"></span></span></span></div></div></footer></div><script color="17,63,61" opacity="1" zindex="-1" count="199" src="/lib/canvas-nest/canvas-nest.min.js"></script><script src="/lib/anime.min.js"></script><script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script src="/js/local-search.js"></script><script type="text/x-mathjax-config">

  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$', '$'], ['\\(', '\\)'] ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
      equationNumbers: {
        autoNumber: 'AMS'
      }
    }
  });

  MathJax.Hub.Register.StartupHook('TeX Jax Ready', function() {
    MathJax.InputJax.TeX.prefilterHooks.Add(function(data) {
      if (data.display) {
        var next = data.script.nextSibling;
        while (next && next.nodeName.toLowerCase() === '#text') {
          next = next.nextSibling;
        }
        if (next && next.nodeName.toLowerCase() === 'br') {
          next.parentNode.removeChild(next);
        }
      }
    });
  });

  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for (i = 0; i < all.length; i += 1) {
      element = document.getElementById(all[i].inputID + '-Frame').parentNode;
      if (element.nodeName.toLowerCase() == 'li') {
        element = element.parentNode;
      }
      element.classList.add('has-jax');
    }
  });
</script><script>
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-AMS-MML_HTMLorMML', () => {
    MathJax.Hub.Typeset();
  }, window.MathJax);
</script><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.css"><script>
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID: '8f22595c6dd29c94467d',
      clientSecret: 'e66bd90ebb9aa66c562c753dec6c90ceecbd51f2',
      repo: 'guestbook',
      owner: 'zjZSTU',
      admin: ['zjZSTU'],
      id: '0fcc5264b4481466fe5e1c790203ab49',
        language: '',
      distractionFreeMode: 'true'
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
</script></body></html>